import{X as V}from"./xmark-icon-C4yoVLTA.js";import{g as D,r as i,i as M,a as n,c as m,o as f,w as u,b as v,j as S,F as T,k as U,e as $,t as B,l as E,u as K}from"./index-Cma_FIE0.js";const Y=D({__name:"Select-Typeahead",setup(L){const o=i(!1),s=i(""),c=i(""),l=i(),d=i(),_=i(),b=[{value:"Alabama",label:"Alabama"},{value:"Florida",label:"Florida"},{value:"New Jersey",label:"New Jersey"},{value:"New Mexico",label:"New Mexico"},{value:"New York",label:"New York"},{value:"North Carolina",label:"North Carolina"}],r=M(()=>{let a=b;return s.value&&(a=b.filter(e=>e.label.toLowerCase().includes(String(s.value).toLowerCase())),a.length||(a=[{value:"",label:`No results found for ${s.value}`}])),a});function k(){s.value="",c.value="",_.value=""}function g(a){let e;if(!o.value||(a==="ArrowUp"&&(l.value===void 0||l.value===0?e=r.value.length-1:e=l.value-1),a==="ArrowDown"&&(l.value===void 0||l.value===r.value.length-1?e=0:e=l.value+1),e===void 0))return;l.value=e;const p=r.value[e];d.value=`select-typeahead-${p.value.replace(" ","-")}`}function y(a){const[e]=r.value,p=l.value?r.value[l.value]:e;switch(a.key){case"Enter":w(p.value);break;case"Tab":case"Escape":o.value=!1,d.value=void 0;break;case"ArrowUp":case"ArrowDown":a.preventDefault(),g(a.key);break}}function w(a){console.log("selected",a),o.value&&a&&(c.value=a,s.value="",_.value=a),o.value=!o.value,l.value=void 0,d.value=void 0}return(a,e)=>{const p=n("pf-text-input-group-main"),C=n("pf-button"),N=n("pf-text-input-group-utilities"),h=n("pf-text-input-group"),A=n("pf-select-option"),I=n("pf-select-list"),F=n("pf-select");return f(),m(F,{open:o.value,"onUpdate:open":e[4]||(e[4]=t=>o.value=t),variant:"typeahead","no-focus-first-item-on-open":"","full-width":""},{label:u(()=>[v(h,{plain:""},{default:u(()=>[v(p,{modelValue:c.value,"onUpdate:modelValue":[e[0]||(e[0]=t=>c.value=t),e[1]||(e[1]=t=>s.value=t)],autocomplete:"off",placeholder:"Select a state",role:"combobox","aria-expanded":o.value,"aria-activedescendant":d.value,"aria-controls":"select-typeahead-listbox",onFocus:e[2]||(e[2]=t=>t.target.select()),onClick:e[3]||(e[3]=t=>o.value=!o.value),onKeydown:y},null,8,["modelValue","aria-expanded","aria-activedescendant"]),v(N,null,{default:u(()=>[c.value?(f(),m(C,{key:0,variant:"plain",onClick:k},{default:u(()=>[v(K(V),{"aria-hidden":""})]),_:1})):E("",!0)]),_:1})]),_:1})]),default:u(()=>[v(I,{id:"select-typeahead-listbox"},{default:u(()=>[(f(!0),S(T,null,U(r.value,(t,x)=>(f(),m(A,{key:x,value:t.value,focused:l.value===x,onClick:O=>w(t.value)},{default:u(()=>[$(B(t.label),1)]),_:2},1032,["value","focused","onClick"]))),128))]),_:1})]),_:1},8,["open"])}}});export{Y as default};
