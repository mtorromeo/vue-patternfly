import{X as V}from"./xmark-icon-cTJznWn3.js";import{f as U,r as i,h as D,o as m,c as _,w as n,b as v,u as M,k as T,i as $,j as B,F as E,e as u,t as K,a as L}from"./index-rWRP8rDj.js";const Y=U({__name:"Select-Typeahead",setup(O){const o=i(!1),s=i(""),c=i(""),t=i(),d=i(),f=i(),b=[{value:"Alabama",label:"Alabama"},{value:"Florida",label:"Florida"},{value:"New Jersey",label:"New Jersey"},{value:"New Mexico",label:"New Mexico"},{value:"New York",label:"New York"},{value:"North Carolina",label:"North Carolina"}],r=D(()=>{let a=b;return s.value&&(a=b.filter(e=>e.label.toLowerCase().includes(s.value.toLowerCase())),a.length||(a=[{value:"",label:`No results found for ${s.value}`}])),a});function k(){s.value="",c.value="",f.value=""}function y(a){let e;if(!o.value||(a==="ArrowUp"&&(t.value===void 0||t.value===0?e=r.value.length-1:e=t.value-1),a==="ArrowDown"&&(t.value===void 0||t.value===r.value.length-1?e=0:e=t.value+1),e===void 0))return;t.value=e;const p=r.value[e];d.value=`select-typeahead-${p.value.replace(" ","-")}`}function g(a){const[e]=r.value,p=t.value?r.value[t.value]:e;switch(a.key){case"Enter":w(p.value);break;case"Tab":case"Escape":o.value=!1,d.value=void 0;break;case"ArrowUp":case"ArrowDown":a.preventDefault(),y(a.key);break}}function w(a){console.log("selected",a),o.value&&a&&(c.value=a,s.value="",f.value=a),o.value=!o.value,t.value=void 0,d.value=void 0}return(a,e)=>{const p=u("pf-text-input-group-main"),C=u("pf-button"),N=u("pf-text-input-group-utilities"),h=u("pf-text-input-group"),A=u("pf-select-option"),I=u("pf-select-list"),F=u("pf-select");return m(),_(F,{open:o.value,"onUpdate:open":e[4]||(e[4]=l=>o.value=l),selected:f.value,"onUpdate:selected":e[5]||(e[5]=l=>f.value=l),variant:"typeahead","full-width":""},{label:n(()=>[v(h,{plain:""},{default:n(()=>[v(p,{modelValue:c.value,"onUpdate:modelValue":[e[0]||(e[0]=l=>c.value=l),e[1]||(e[1]=l=>s.value=l)],autocomplete:"off",placeholder:"Select a state",role:"combobox","aria-expanded":o.value,"aria-activedescendant":d.value,"aria-controls":"select-typeahead-listbox",onFocus:e[2]||(e[2]=l=>l.target.select()),onClick:e[3]||(e[3]=l=>o.value=!o.value),onKeydown:g},null,8,["modelValue","aria-expanded","aria-activedescendant"]),v(N,null,{default:n(()=>[c.value?(m(),_(C,{key:0,variant:"plain",onClick:k},{default:n(()=>[v(M(V),{"aria-hidden":""})]),_:1})):T("",!0)]),_:1})]),_:1})]),default:n(()=>[v(I,{id:"select-typeahead-listbox"},{default:n(()=>[(m(!0),$(E,null,B(r.value,(l,x)=>(m(),_(A,{key:x,value:l.value,focused:t.value===x,onClick:S=>w(l.value)},{default:n(()=>[L(K(l.label),1)]),_:2},1032,["value","focused","onClick"]))),128))]),_:1})]),_:1},8,["open","selected"])}}});export{Y as default};
