import{X as V}from"./xmark-icon-DX6LI8LX.js";import{g as U,r as i,i as D,a as n,c as _,o as m,w as u,b as v,j as M,F as T,k as $,e as B,t as E,l as K,u as L}from"./index-4O0pXY0z.js";const Y=U({__name:"Select-Typeahead",setup(O){const o=i(!1),s=i(""),c=i(""),t=i(),d=i(),f=i(),b=[{value:"Alabama",label:"Alabama"},{value:"Florida",label:"Florida"},{value:"New Jersey",label:"New Jersey"},{value:"New Mexico",label:"New Mexico"},{value:"New York",label:"New York"},{value:"North Carolina",label:"North Carolina"}],r=D(()=>{let a=b;return s.value&&(a=b.filter(e=>e.label.toLowerCase().includes(s.value.toLowerCase())),a.length||(a=[{value:"",label:`No results found for ${s.value}`}])),a});function k(){s.value="",c.value="",f.value=""}function g(a){let e;if(!o.value||(a==="ArrowUp"&&(t.value===void 0||t.value===0?e=r.value.length-1:e=t.value-1),a==="ArrowDown"&&(t.value===void 0||t.value===r.value.length-1?e=0:e=t.value+1),e===void 0))return;t.value=e;const p=r.value[e];d.value=`select-typeahead-${p.value.replace(" ","-")}`}function y(a){const[e]=r.value,p=t.value?r.value[t.value]:e;switch(a.key){case"Enter":w(p.value);break;case"Tab":case"Escape":o.value=!1,d.value=void 0;break;case"ArrowUp":case"ArrowDown":a.preventDefault(),g(a.key);break}}function w(a){console.log("selected",a),o.value&&a&&(c.value=a,s.value="",f.value=a),o.value=!o.value,t.value=void 0,d.value=void 0}return(a,e)=>{const p=n("pf-text-input-group-main"),C=n("pf-button"),N=n("pf-text-input-group-utilities"),h=n("pf-text-input-group"),A=n("pf-select-option"),I=n("pf-select-list"),F=n("pf-select");return m(),_(F,{open:o.value,"onUpdate:open":e[4]||(e[4]=l=>o.value=l),selected:f.value,"onUpdate:selected":e[5]||(e[5]=l=>f.value=l),variant:"typeahead","no-focus-first-item-on-open":"","full-width":""},{label:u(()=>[v(h,{plain:""},{default:u(()=>[v(p,{modelValue:c.value,"onUpdate:modelValue":[e[0]||(e[0]=l=>c.value=l),e[1]||(e[1]=l=>s.value=l)],autocomplete:"off",placeholder:"Select a state",role:"combobox","aria-expanded":o.value,"aria-activedescendant":d.value,"aria-controls":"select-typeahead-listbox",onFocus:e[2]||(e[2]=l=>l.target.select()),onClick:e[3]||(e[3]=l=>o.value=!o.value),onKeydown:y},null,8,["modelValue","aria-expanded","aria-activedescendant"]),v(N,null,{default:u(()=>[c.value?(m(),_(C,{key:0,variant:"plain",onClick:k},{default:u(()=>[v(L(V),{"aria-hidden":""})]),_:1})):K("",!0)]),_:1})]),_:1})]),default:u(()=>[v(I,{id:"select-typeahead-listbox"},{default:u(()=>[(m(!0),M(T,null,$(r.value,(l,x)=>(m(),_(A,{key:x,value:l.value,focused:t.value===x,onClick:S=>w(l.value)},{default:u(()=>[B(E(l.label),1)]),_:2},1032,["value","focused","onClick"]))),128))]),_:1})]),_:1},8,["open","selected"])}}});export{Y as default};
